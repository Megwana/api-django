{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/api-django/project/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/api-django/project/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{useEffect}from\"react\";import{useHistory}from\"react-router\";export var useRedirect=function useRedirect(userAuthStatus){var history=useHistory();useEffect(function(){var handleMount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"/dj-rest-auth/token/refresh/\");case 3:// if user is logged in, the code below will run\nif(userAuthStatus===\"loggedIn\"){history.push(\"/\");}_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);// if user is not logged in, the code below will run\nif(userAuthStatus===\"loggedOut\"){history.push(\"/\");}case 9:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function handleMount(){return _ref.apply(this,arguments);};}();handleMount();},[history,userAuthStatus]);};","map":{"version":3,"names":["axios","useEffect","useHistory","useRedirect","userAuthStatus","history","handleMount","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","post","push","t0","stop","apply","arguments"],"sources":["/workspace/api-django/project/frontend/src/hooks/useRedirect.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\n\nexport const useRedirect = (userAuthStatus) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\n        // if user is logged in, the code below will run\n        if (userAuthStatus === \"loggedIn\") {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        // if user is not logged in, the code below will run\n        if (userAuthStatus === \"loggedOut\") {\n          history.push(\"/\");\n        }\n      }\n    };\n\n    handleMount();\n  }, [history, userAuthStatus]);\n};"],"mappings":"wQAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,UAAU,KAAQ,cAAc,CAEzC,MAAO,IAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,cAAc,CAAK,CAC7C,GAAM,CAAAC,OAAO,CAAGH,UAAU,CAAC,CAAC,CAE5BD,SAAS,CAAC,UAAM,CACd,GAAM,CAAAK,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEV,CAAAhB,KAAK,CAACiB,IAAI,CAAC,8BAA8B,CAAC,QAChD;AACA,GAAIb,cAAc,GAAK,UAAU,CAAE,CACjCC,OAAO,CAACa,IAAI,CAAC,GAAG,CAAC,CACnB,CAACJ,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAK,EAAA,CAAAL,QAAA,aAED;AACA,GAAIV,cAAc,GAAK,WAAW,CAAE,CAClCC,OAAO,CAACa,IAAI,CAAC,GAAG,CAAC,CACnB,CAAC,wBAAAJ,QAAA,CAAAM,IAAA,MAAAT,OAAA,gBAEJ,kBAbK,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAAc,KAAA,MAAAC,SAAA,OAahB,CAEDhB,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACD,OAAO,CAAED,cAAc,CAAC,CAAC,CAC/B,CAAC"},"metadata":{},"sourceType":"module"}