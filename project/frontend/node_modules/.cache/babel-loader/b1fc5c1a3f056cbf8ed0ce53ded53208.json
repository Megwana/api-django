{"ast":null,"code":"import React from\"react\";import styles from\"../../styles/Profile.module.css\";import btnStyles from\"../../styles/Button.module.css\";import{useCurrentUser}from\"../../contexts/CurrentUserContext\";import{Link}from\"react-router-dom\";import Avatar from\"../../components/Avatar\";import{Button}from\"react-bootstrap\";import{useSetProfileData}from\"../../contexts/ProfileDataContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(props){var profile=props.profile,mobile=props.mobile,_props$imageSize=props.imageSize,imageSize=_props$imageSize===void 0?55:_props$imageSize;var id=profile.id,following_id=profile.following_id,image=profile.image,owner=profile.owner;var currentUser=useCurrentUser();var is_owner=(currentUser===null||currentUser===void 0?void 0:currentUser.username)===owner;var _useSetProfileData=useSetProfileData(),handleFollow=_useSetProfileData.handleFollow,handleUnfollow=_useSetProfileData.handleUnfollow;return/*#__PURE__*/_jsxs(\"div\",{className:\"my-3 d-flex align-items-center \".concat(mobile&&\"flex-column\"),children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{className:\"align-self-center\",to:\"/profiles/\".concat(id),children:/*#__PURE__*/_jsx(Avatar,{src:image,height:imageSize})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-2 \".concat(styles.WordBreak),children:/*#__PURE__*/_jsx(\"strong\",{children:owner})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right \".concat(!mobile&&\"ml-auto\"),children:!mobile&&currentUser&&!is_owner&&(following_id?/*#__PURE__*/_jsx(Button,{className:\"\".concat(btnStyles.Button,\" \").concat(btnStyles.BlackOutline),onClick:function onClick(){return handleUnfollow(profile);},children:\"unfollow\"}):/*#__PURE__*/_jsx(Button,{className:\"\".concat(btnStyles.Button,\" \").concat(btnStyles.Black),onClick:function onClick(){return handleFollow(profile);},children:\"follow\"}))})]});};export default Profile;","map":{"version":3,"names":["React","styles","btnStyles","useCurrentUser","Link","Avatar","Button","useSetProfileData","jsx","_jsx","jsxs","_jsxs","Profile","props","profile","mobile","_props$imageSize","imageSize","id","following_id","image","owner","currentUser","is_owner","username","_useSetProfileData","handleFollow","handleUnfollow","className","concat","children","to","src","height","WordBreak","BlackOutline","onClick","Black"],"sources":["/workspace/api-django/project/frontend/src/pages/profiles/Profile.js"],"sourcesContent":["import React from \"react\";\nimport styles from \"../../styles/Profile.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"../../components/Avatar\";\nimport { Button } from \"react-bootstrap\";\nimport { useSetProfileData } from \"../../contexts/ProfileDataContext\";\n\nconst Profile = (props) => {\n  const { profile, mobile, imageSize = 55 } = props;\n  const { id, following_id, image, owner } = profile;\n\n  const currentUser = useCurrentUser();\n  const is_owner = currentUser?.username === owner;\n\n  const { handleFollow, handleUnfollow } = useSetProfileData();\n\n  return (\n    <div\n      className={`my-3 d-flex align-items-center ${mobile && \"flex-column\"}`}\n    >\n      <div>\n        <Link className=\"align-self-center\" to={`/profiles/${id}`}>\n          <Avatar src={image} height={imageSize} />\n        </Link>\n      </div>\n      <div className={`mx-2 ${styles.WordBreak}`}>\n        <strong>{owner}</strong>\n      </div>\n      <div className={`text-right ${!mobile && \"ml-auto\"}`}>\n        {!mobile &&\n          currentUser &&\n          !is_owner &&\n          (following_id ? (\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.BlackOutline}`}\n              onClick={() => handleUnfollow(profile)}\n            >\n              unfollow\n            </Button>\n          ) : (\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Black}`}\n              onClick={() => handleFollow(profile)}\n            >\n              follow\n            </Button>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,iCAAiC,CACpD,MAAO,CAAAC,SAAS,KAAM,gCAAgC,CACtD,OAASC,cAAc,KAAQ,mCAAmC,CAClE,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,OAASC,MAAM,KAAQ,iBAAiB,CACxC,OAASC,iBAAiB,KAAQ,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtE,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,KAAK,CAAK,CACzB,GAAQ,CAAAC,OAAO,CAA6BD,KAAK,CAAzCC,OAAO,CAAEC,MAAM,CAAqBF,KAAK,CAAhCE,MAAM,CAAAC,gBAAA,CAAqBH,KAAK,CAAxBI,SAAS,CAATA,SAAS,CAAAD,gBAAA,UAAG,EAAE,CAAAA,gBAAA,CACvC,GAAQ,CAAAE,EAAE,CAAiCJ,OAAO,CAA1CI,EAAE,CAAEC,YAAY,CAAmBL,OAAO,CAAtCK,YAAY,CAAEC,KAAK,CAAYN,OAAO,CAAxBM,KAAK,CAAEC,KAAK,CAAKP,OAAO,CAAjBO,KAAK,CAEtC,GAAM,CAAAC,WAAW,CAAGnB,cAAc,CAAC,CAAC,CACpC,GAAM,CAAAoB,QAAQ,CAAG,CAAAD,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEE,QAAQ,IAAKH,KAAK,CAEhD,IAAAI,kBAAA,CAAyClB,iBAAiB,CAAC,CAAC,CAApDmB,YAAY,CAAAD,kBAAA,CAAZC,YAAY,CAAEC,cAAc,CAAAF,kBAAA,CAAdE,cAAc,CAEpC,mBACEhB,KAAA,QACEiB,SAAS,mCAAAC,MAAA,CAAoCd,MAAM,EAAI,aAAa,CAAG,CAAAe,QAAA,eAEvErB,IAAA,QAAAqB,QAAA,cACErB,IAAA,CAACL,IAAI,EAACwB,SAAS,CAAC,mBAAmB,CAACG,EAAE,cAAAF,MAAA,CAAeX,EAAE,CAAG,CAAAY,QAAA,cACxDrB,IAAA,CAACJ,MAAM,EAAC2B,GAAG,CAAEZ,KAAM,CAACa,MAAM,CAAEhB,SAAU,CAAE,CAAC,CACrC,CAAC,CACJ,CAAC,cACNR,IAAA,QAAKmB,SAAS,SAAAC,MAAA,CAAU5B,MAAM,CAACiC,SAAS,CAAG,CAAAJ,QAAA,cACzCrB,IAAA,WAAAqB,QAAA,CAAST,KAAK,CAAS,CAAC,CACrB,CAAC,cACNZ,IAAA,QAAKmB,SAAS,eAAAC,MAAA,CAAgB,CAACd,MAAM,EAAI,SAAS,CAAG,CAAAe,QAAA,CAClD,CAACf,MAAM,EACNO,WAAW,EACX,CAACC,QAAQ,GACRJ,YAAY,cACXV,IAAA,CAACH,MAAM,EACLsB,SAAS,IAAAC,MAAA,CAAK3B,SAAS,CAACI,MAAM,MAAAuB,MAAA,CAAI3B,SAAS,CAACiC,YAAY,CAAG,CAC3DC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAT,cAAc,CAACb,OAAO,CAAC,EAAC,CAAAgB,QAAA,CACxC,UAED,CAAQ,CAAC,cAETrB,IAAA,CAACH,MAAM,EACLsB,SAAS,IAAAC,MAAA,CAAK3B,SAAS,CAACI,MAAM,MAAAuB,MAAA,CAAI3B,SAAS,CAACmC,KAAK,CAAG,CACpDD,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAV,YAAY,CAACZ,OAAO,CAAC,EAAC,CAAAgB,QAAA,CACtC,QAED,CAAQ,CACT,CAAC,CACD,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,OAAO"},"metadata":{},"sourceType":"module"}